!function(e,t){"use strict";function n(t){var n,r,c;return n=t.defer(),"success"===s.injectState?(n.resolve(),n.promise):("progress"===s.injectState&&o.promise.then(function(){return n.resolve(),n.promise}),r="//connect.facebook.net/"+i.locale+"/sdk.js",c=document.createElement("script"),c.id="facebook-jssdk",c.async=!0,n=t.defer(),e.location.protocol.indexOf("file:")!==-1&&(r="https:"+r),c.src=r,c.onload=function(){s.sdk=!0,s.injectState="success",o.promise.then(n.resolve)},c.onerror=function(){s.injectState="error",n.reject()},document.getElementsByTagName("head")[0].appendChild(c),n.promise)}var o,i={},s={sdk:!1,injectState:null,ready:!1};t.module("facebook",[]).value("settings",i).value("flags",s).provider("Facebook",[function(){i.appId=null,this.setAppId=function(e){i.appId=e},this.getAppId=function(){return i.appId},i.locale="en_US",this.setLocale=function(e){i.locale=e},this.getLocale=function(){return i.locale},i.status=!0,this.setStatus=function(e){i.status=e},this.getStatus=function(){return i.status},i.channelUrl=null,this.setChannel=function(e){i.channelUrl=e},this.getChannel=function(){return i.channelUrl},i.cookie=!0,this.setCookie=function(e){i.cookie=e},this.getCookie=function(){return i.cookie},i.xfbml=!0,this.setXfbml=function(e){i.xfbml=e},this.getXfbml=function(){return i.xfbml},this.setAuthResponse=function(e){i.authResponse=e||!0},this.getAuthResponse=function(){return i.authResponse},i.frictionlessRequests=!1,this.setFrictionlessRequests=function(e){i.frictionlessRequests=e},this.getFrictionlessRequests=function(){return i.frictionlessRequests},i.hideFlashCallback=null,this.setHideFlashCallback=function(e){i.hideFlashCallback=e||null},this.getHideFlashCallback=function(){return i.hideFlashCallback},this.setInitCustomOption=function(e,n){return!!t.isString(e)&&(i[e]=n,i[e])},this.getInitOption=function(e){return!(!t.isString(e)||!i.hasOwnProperty(e))&&i[e]},i.loadSDK=!0,this.setLoadSDK=function(e){i.loadSDK=!!e},this.getLoadSDK=function(){return i.loadSDK},i.version="v2.0",this.setSdkVersion=function(e){i.version=e},this.getSdkVersion=function(){return i.version},this.init=function(e,n){t.isString(e)&&(i.appId=e),t.isNumber(e)&&(i.appId=e.toString()),t.isObject(e)&&t.extend(i,e),t.isDefined(n)&&(i.loadSDK=!!n)},this.$get=["$q","$rootScope","$timeout","$window",function(e,r,c,u){function a(){this.appId=i.appId}return a.prototype.isReady=function(){return s.ready},a.prototype.injectSDK=function(){return n(e)},a.prototype.login=function(){var n,o,i=e.defer(),s=Array.prototype.slice.call(arguments);return t.forEach(s,function(e,i){t.isFunction(e)&&(n=e,o=i)}),t.isFunction(n)&&t.isNumber(o)&&s.splice(o,1,function(e){c(function(){e&&t.isUndefined(e.error)?i.resolve(e):i.reject(e),t.isFunction(n)&&n(e)})}),this.isReady()?u.FB.login.apply(u.FB,s):c(function(){i.reject("Facebook.login() called before Facebook SDK has loaded.")}),i.promise},t.forEach(["logout","api","ui","getLoginStatus"],function(n){a.prototype[n]=function(){var i,s,r=e.defer(),a=Array.prototype.slice.call(arguments);return t.forEach(a,function(e,n){t.isFunction(e)&&(i=e,s=n)}),t.isFunction(i)&&t.isNumber(s)&&a.splice(s,1,function(e){c(function(){e&&t.isUndefined(e.error)?r.resolve(e):r.reject(e),t.isFunction(i)&&i(e)})}),c(function(){o.promise.then(function(){u.FB[n].apply(FB,a)})}),r.promise}}),a.prototype.parseXFBML=function(){var t=e.defer();return c(function(){o.promise.then(function(){u.FB.XFBML.parse(),t.resolve()})}),t.promise},t.forEach(["subscribe","unsubscribe"],function(n){a.prototype[n]=function(){var i,s,r=e.defer(),a=Array.prototype.slice.call(arguments);return t.forEach(a,function(e,n){t.isFunction(e)&&(i=e,s=n)}),t.isFunction(i)&&t.isNumber(s)&&a.splice(s,1,function(e){c(function(){e&&t.isUndefined(e.error)?r.resolve(e):r.reject(e),t.isFunction(i)&&i(e)})}),c(function(){o.promise.then(function(){u.FB.Event[n].apply(FB,a)})}),r.promise}}),new a}]}]).run(["$rootScope","$q","$window","$timeout",function(e,r,c,u){o=r.defer();var a=i.loadSDK;delete i.loadSDK,c.fbAsyncInit=function(){u(function(){if(!i.appId)throw"Missing appId setting.";FB.init(i),s.ready=!0,t.forEach({"auth.login":"login","auth.logout":"logout","auth.prompt":"prompt","auth.sessionChange":"sessionChange","auth.statusChange":"statusChange","auth.authResponseChange":"authResponseChange","xfbml.render":"xfbmlRender","edge.create":"like","edge.remove":"unlike","comment.create":"comment","comment.remove":"uncomment"},function(t,n){FB.Event.subscribe(n,function(n){u(function(){e.$broadcast("Facebook:"+t,n)})})}),e.$broadcast("Facebook:load"),o.resolve(FB)})},function(){var e=document.getElementById("fb-root");return e||(e=document.createElement("div"),e.id="fb-root",document.body.insertBefore(e,document.body.childNodes[0])),e}(),a&&n(r)}])}(window,angular);